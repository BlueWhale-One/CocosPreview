window.__require=function e(t,o,r){function n(c,s){if(!o[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return n(t[c][1][e]||e)},u,u.exports,e,t,o,r)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<r.length;c++)n(r[c]);return n}({ColorItem:[function(e,t,o){"use strict";cc._RF.push(t,"e7746XYeQBO4I2yNeClPQsy","ColorItem");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,o,c):n(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Common"),c=e("./Game"),s=cc._decorator,a=s.ccclass,l=s.property,u=cc.Enum({None:0,Blue:1,Red:2,Yellow:3,Green:4,White:5,Purple:6}),f=cc.Enum({None:0,Wait:1,OnBlank:2,isMoving:3}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.circle_Prefab=null,t.color=u.None,t.position=0,t.tempNode=null,t.state=f.Wait,t.colorData=[cc.color(0,0,255),cc.color(255,0,0),cc.color(255,255,0),cc.color(0,255,0),cc.color(255,255,255),cc.color(255,0,255)],t.common=null,t.onTouch=!1,t}return r(t,e),t.prototype.onLoad=function(){this.common=i.default.instance(),this.onTouch=!0,this.addEvent()},t.prototype.addEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchstart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchmove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchcancel,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchend,this)},t.prototype.touchstart=function(e){if(!this.tempNode){var t=cc.instantiate(this.circle_Prefab);t.color=this.colorData[this.color-1];var o=this.node.parent.convertToWorldSpaceAR(this.node.position);o=this.root.convertToNodeSpaceAR(o),t.setPosition(o),t.setParent(this.root),this.tempNode=t,this.common.selectColor=this.color}},t.prototype.touchmove=function(e){this.tempNode&&(this.tempNode.x+=e.getDelta().x,this.tempNode.y+=e.getDelta().y)},t.prototype.touchcancel=function(e){this.tempNode&&this.touchend(e)},t.prototype.touchend=function(e){var t=this;this.tempNode&&(this.common.LayoutList[this.common.currentLayoutIndex].getChildByName("layout").children.forEach(function(o,r){var n=o.getChildByName("blank"),i=n.convertToNodeSpaceAR(e.getLocation()),c=n.getComponent(cc.PolygonCollider);if(c&&cc.Intersection.pointInPolygon(i,c.points)){console.log(t.common.currentLayoutIndex,r);var s=n.getChildByName("Circle");s&&s.removeFromParent();var a=cc.instantiate(t.circle_Prefab);a.color=t.colorData[t.color-1],a.setPosition(cc.v2(0,0)),a.setParent(n),t.common.colorList[r]=t.color}}),this.tempNode.removeFromParent(),this.tempNode=null,this.root.getComponent(c.default).checkResult())},n([l(cc.Node)],t.prototype,"root",void 0),n([l(cc.Prefab)],t.prototype,"circle_Prefab",void 0),n([l({type:u})],t.prototype,"color",void 0),t=n([a],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./Common":"Common","./Game":"Game"}],Common:[function(e,t,o){"use strict";cc._RF.push(t,"56d58jP/RpLBKjSwaf1Fh1L","Common"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){this.maxLayoutIndex=8,this.currentLayoutIndex=0,this.LayoutList=[],this.colorList=[],this.selectColor=1}return e.instance=function(){if(!this._instance){var e=new this;e.init(),this._instance=e}return this._instance},e.destroy=function(){this._instance&&delete this._instance,this._instance=null},e.prototype.init=function(){this.currentLayoutIndex=0,this.LayoutList=[],this.colorList=[],this.selectColor=1},e}();o.default=r,cc._RF.pop()},{}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"f8307ZFAbVP1Y0X6wTo+3qF","GameData"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){}return e.serverAdress="192.168.0.116",e.serverPort="3000",e}();o.default=r,cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"758e1GoZ5pBDaB91FXTatUh","Game");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,o,c):n(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Tools/Socket"),c=e("./Common"),s=e("./pb/GuessColor"),a=cc._decorator,l=a.ccclass,u=a.property,f=(cc.Enum({None:0,Blue:1,Red:2,Yellow:3,Green:4,White:5,Purple:6}),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Layout=null,t.LayoutItem_Prefab=null,t.resultItem_Prefab=null,t.startMenu=null,t.resultLayout=null,t.Templayout=null,t.circle_Prefab=null,t.tipLabel=null,t.ItemList=[],t.resultList=[],t.isSameColor=!1,t.colorData=[cc.color(0,0,255),cc.color(255,0,0),cc.color(255,255,0),cc.color(0,255,0),cc.color(255,255,255),cc.color(255,0,255)],t.common=null,t}return r(t,e),t.prototype.onLoad=function(){this.startMenu.active=!0,this.common=c.default.instance(),this.common.init();for(var e=0;e<this.common.maxLayoutIndex;e++){var t=cc.instantiate(this.LayoutItem_Prefab);t.y=-50,t.setParent(this.Layout),this.common.LayoutList.push(t)}this.resultLayout.active=!1,this.Templayout.active=!0},t.prototype.setIsSameColor=function(e,t){0==+t?this.isSameColor=!1:1==+t&&(this.isSameColor=!0)},t.prototype.startGame=function(){this.startMenu.active=!1,this.initResult(),this.setLayoutClickState()},t.prototype.setLayoutClickState=function(){for(var e=this.common.LayoutList[this.common.currentLayoutIndex],t=0;t<e.getChildByName("layout").children.length;t++){e.getChildByName("layout").children[t].getChildByName("blank").on(cc.Node.EventType.TOUCH_END,this.onClick.bind(this,t),this)}this.common.currentLayoutIndex>0&&(this.common.LayoutList[this.common.currentLayoutIndex-1].getChildByName("mask").active=!0)},t.prototype.onClick=function(e,t){var o=t.target;if(o.getChildByName("Circle"))o.getChildByName("Circle").removeFromParent(),this.common.colorList[e]=null,this.checkResult();else if(0!=this.common.selectColor){var r=cc.instantiate(this.circle_Prefab);r.color=this.colorData[this.common.selectColor-1],r.setPosition(cc.v2(0,0)),r.setParent(o),this.common.colorList[e]=this.common.selectColor,this.checkResult()}},t.prototype.initResult=function(){if(this.isSameColor)for(var e=function(e){for(var o=Math.floor(6*Math.random()+1),r=function(){if(o=Math.floor(6*Math.random()+1),{color:o,position:e},cc.js.array.contains(t.resultList,o)){var r=0;if(t.resultList.forEach(function(e){e==o&&r++}),!(r<2))return"continue";t.resultList.push(o)}else t.resultList.push(o)};t.resultList.length<4;)r()},t=this,o=0;o<4;o++)e(o);else for(o=0;o<4;o++)for(var r=Math.floor(6*Math.random()+1);this.resultList.length<4;)({color:r=Math.floor(6*Math.random()+1),position:o}),cc.js.array.contains(this.resultList,r)||this.resultList.push(r);for(o=0;o<4;o++){var n=cc.instantiate(this.circle_Prefab);n.color=this.colorData[this.resultList[o]-1],n.setPosition(cc.v2(0,0)),n.setParent(this.resultLayout.children[o].getChildByName("blank"))}},t.prototype.checkResult=function(){var e=0;if(this.common.colorList.forEach(function(t){t&&e++}),this.common.currentLayoutIndex<this.common.maxLayoutIndex){var t=this.common.LayoutList[this.common.currentLayoutIndex].getChildByName("ok");t.on(cc.Node.EventType.TOUCH_END,this.showResult,this),t.active=4==e}},t.prototype.showResult=function(){var e=this,t=0,o=0;this.common.colorList.forEach(function(r,n){cc.js.array.contains(e.resultList,r)&&(e.resultList.indexOf(r)===n?o++:t++)});var r=o+"\u4e2a\u5168\u5bf9,"+t+"\u4e2a\u534a\u5bf9\uff01";this.tipLabel.string=r,this.common.LayoutList[this.common.currentLayoutIndex].getChildByName("ok").active=!1;for(var n=this.common.LayoutList[this.common.currentLayoutIndex].getChildByName("result"),i=function(e){var t=cc.instantiate(c.resultItem_Prefab);t.color=cc.color(202,113,30),setTimeout(function(){t.setParent(n.children[e]),t.setPosition(cc.v2(0,0))},.2*e*1e3)},c=this,s=0;s<o;s++)i(s);var a=function(e){var t=cc.instantiate(l.resultItem_Prefab);setTimeout(function(){t.setParent(n.children[e]),t.setPosition(cc.v2(0,0))},.2*e*1e3)},l=this;for(s=o;s<o+t;s++)a(s);setTimeout(function(){e.tipLabel.node.runAction(cc.sequence(cc.fadeIn(.2),cc.delayTime(1.5),cc.fadeOut(.2)))},.2*(o+t)*1e3),this.common.currentLayoutIndex==this.common.maxLayoutIndex-1&&(this.resultLayout.active=!0,this.Templayout.active=!1),this.common.currentLayoutIndex++,this.common.colorList=[],this.setLayoutClickState()},t.prototype.reStart=function(){cc.director.loadScene("GuessColor")},t.prototype.send=function(){var e=s.GuessColor.ColorInfo.create();e.color=1,e.index=this.common.currentLayoutIndex;var t=s.GuessColor.ColorInfo.encode(e).finish();console.log(e),i.default.inst.sendMsg(t,s.GuessColor.Event.ENTER_ROOM_REQ,"aaa")},n([u(cc.Node)],t.prototype,"Layout",void 0),n([u(cc.Prefab)],t.prototype,"LayoutItem_Prefab",void 0),n([u(cc.Prefab)],t.prototype,"resultItem_Prefab",void 0),n([u(cc.Node)],t.prototype,"startMenu",void 0),n([u(cc.Node)],t.prototype,"resultLayout",void 0),n([u(cc.Node)],t.prototype,"Templayout",void 0),n([u(cc.Prefab)],t.prototype,"circle_Prefab",void 0),n([u(cc.Label)],t.prototype,"tipLabel",void 0),t=n([l],t)}(cc.Component));o.default=f,cc._RF.pop()},{"../Tools/Socket":"Socket","./Common":"Common","./pb/GuessColor":"GuessColor"}],GuessColor:[function(e,t,o){"use strict";cc._RF.push(t,"b6641lOsF5DBqphTv3KejZa","GuessColor");var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=protobuf,i=n.Reader,c=n.Writer,s=n.util,a=n.roots.default||(n.roots.default={});a.google=function(){var e={};return e.protobuf=function(){var e={};return e.Any=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.typeUrl="",e.prototype.value=s.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.typeUrl&&Object.hasOwnProperty.call(e,"typeUrl")&&t.uint32(10).string(e.typeUrl),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).bytes(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new a.google.protobuf.Any;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:r.typeUrl=e.string();break;case 2:r.value=e.bytes();break;default:e.skipType(7&n)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.typeUrl&&e.hasOwnProperty("typeUrl")&&!s.isString(e.typeUrl)?"typeUrl: string expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||s.isString(e.value))?"value: buffer expected":null},e.fromObject=function(e){if(e instanceof a.google.protobuf.Any)return e;var t=new a.google.protobuf.Any;return null!=e.typeUrl&&(t.typeUrl=String(e.typeUrl)),null!=e.value&&("string"==typeof e.value?s.base64.decode(e.value,t.value=s.newBuffer(s.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},e.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.typeUrl="",t.bytes===String?o.value="":(o.value=[],t.bytes!==Array&&(o.value=s.newBuffer(o.value)))),null!=e.typeUrl&&e.hasOwnProperty("typeUrl")&&(o.typeUrl=e.typeUrl),null!=e.value&&e.hasOwnProperty("value")&&(o.value=t.bytes===String?s.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e}(),e}(),a.gateway=function(){var e={};return e.ErrInfo=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.describe="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.describe&&Object.hasOwnProperty.call(e,"describe")&&t.uint32(18).string(e.describe),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new a.gateway.ErrInfo;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:r.code=e.int32();break;case 2:r.describe=e.string();break;default:e.skipType(7&n)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.code&&e.hasOwnProperty("code")&&!s.isInteger(e.code)?"code: integer expected":null!=e.describe&&e.hasOwnProperty("describe")&&!s.isString(e.describe)?"describe: string expected":null},e.fromObject=function(e){if(e instanceof a.gateway.ErrInfo)return e;var t=new a.gateway.ErrInfo;return null!=e.code&&(t.code=0|e.code),null!=e.describe&&(t.describe=String(e.describe)),t},e.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.code=0,o.describe=""),null!=e.code&&e.hasOwnProperty("code")&&(o.code=e.code),null!=e.describe&&e.hasOwnProperty("describe")&&(o.describe=e.describe),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.EventType=function(){var e={},t=Object.create(e);return t[e[0]="errorType"]=0,t[e[-1]="enterRoom"]=-1,t[e[-2]="leavelRoom"]=-2,t[e[-3]="playerDisConn"]=-3,t[e[-4]="kickPlayer"]=-4,t[e[-5]="playerInOut"]=-5,t[e[-6]="gameReady"]=-6,t[e[-7]="gameStart"]=-7,t[e[-8]="invalidOperation"]=-8,t[e[-9]="changeRoomNextRound"]=-9,t[e[-10]="matchNewRoom"]=-10,t[e[-11]="keepAlive"]=-11,t[e[-12]="gameOver"]=-12,t[e[-13]="exitRoom"]=-13,t}(),e.GameEvent=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.type=0,e.prototype.failed=!1,e.prototype.data=null,e.prototype.jsonData="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.failed&&Object.hasOwnProperty.call(e,"failed")&&t.uint32(16).bool(e.failed),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&a.google.protobuf.Any.encode(e.data,t.uint32(26).fork()).ldelim(),null!=e.jsonData&&Object.hasOwnProperty.call(e,"jsonData")&&t.uint32(34).string(e.jsonData),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new a.gateway.GameEvent;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:r.type=e.int32();break;case 2:r.failed=e.bool();break;case 3:r.data=a.google.protobuf.Any.decode(e,e.uint32());break;case 4:r.jsonData=e.string();break;default:e.skipType(7&n)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!s.isInteger(e.type))return"type: integer expected";if(null!=e.failed&&e.hasOwnProperty("failed")&&"boolean"!=typeof e.failed)return"failed: boolean expected";if(null!=e.data&&e.hasOwnProperty("data")){var t=a.google.protobuf.Any.verify(e.data);if(t)return"data."+t}return null!=e.jsonData&&e.hasOwnProperty("jsonData")&&!s.isString(e.jsonData)?"jsonData: string expected":null},e.fromObject=function(e){if(e instanceof a.gateway.GameEvent)return e;var t=new a.gateway.GameEvent;if(null!=e.type&&(t.type=0|e.type),null!=e.failed&&(t.failed=Boolean(e.failed)),null!=e.data){if("object"!==r(e.data))throw TypeError(".gateway.GameEvent.data: object expected");t.data=a.google.protobuf.Any.fromObject(e.data)}return null!=e.jsonData&&(t.jsonData=String(e.jsonData)),t},e.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.type=0,o.failed=!1,o.data=null,o.jsonData=""),null!=e.type&&e.hasOwnProperty("type")&&(o.type=e.type),null!=e.failed&&e.hasOwnProperty("failed")&&(o.failed=e.failed),null!=e.data&&e.hasOwnProperty("data")&&(o.data=a.google.protobuf.Any.toObject(e.data,t)),null!=e.jsonData&&e.hasOwnProperty("jsonData")&&(o.jsonData=e.jsonData),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.GameEventType=function(){var e={},t=Object.create(e);return t[e[0]="default"]=0,t[e[256]="init"]=256,t}(),e.InitData=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.roomToken="",e.prototype.version="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.roomToken&&Object.hasOwnProperty.call(e,"roomToken")&&t.uint32(10).string(e.roomToken),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(18).string(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new a.gateway.InitData;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:r.roomToken=e.string();break;case 2:r.version=e.string();break;default:e.skipType(7&n)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.roomToken&&e.hasOwnProperty("roomToken")&&!s.isString(e.roomToken)?"roomToken: string expected":null!=e.version&&e.hasOwnProperty("version")&&!s.isString(e.version)?"version: string expected":null},e.fromObject=function(e){if(e instanceof a.gateway.InitData)return e;var t=new a.gateway.InitData;return null!=e.roomToken&&(t.roomToken=String(e.roomToken)),null!=e.version&&(t.version=String(e.version)),t},e.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.roomToken="",o.version=""),null!=e.roomToken&&e.hasOwnProperty("roomToken")&&(o.roomToken=e.roomToken),null!=e.version&&e.hasOwnProperty("version")&&(o.version=e.version),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e}(),a.GuessColor=function(){var e={};return e.TableInfo=function(){function e(e){if(this.result=[],this.colorList=[],e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.result=s.emptyArray,e.prototype.currentIndex=0,e.prototype.playerList=null,e.prototype.colorList=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=c.create()),null!=e.result&&e.result.length){t.uint32(10).fork();for(var o=0;o<e.result.length;++o)t.int32(e.result[o]);t.ldelim()}if(t.uint32(16).int32(e.currentIndex),a.GuessColor.PlayerInfo.encode(e.playerList,t.uint32(26).fork()).ldelim(),null!=e.colorList&&e.colorList.length)for(o=0;o<e.colorList.length;++o)a.GuessColor.ColorInfo.encode(e.colorList[o],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new a.GuessColor.TableInfo;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:if(r.result&&r.result.length||(r.result=[]),2==(7&n))for(var c=e.uint32()+e.pos;e.pos<c;)r.result.push(e.int32());else r.result.push(e.int32());break;case 2:r.currentIndex=e.int32();break;case 3:r.playerList=a.GuessColor.PlayerInfo.decode(e,e.uint32());break;case 4:r.colorList&&r.colorList.length||(r.colorList=[]),r.colorList.push(a.GuessColor.ColorInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}if(!r.hasOwnProperty("currentIndex"))throw s.ProtocolError("missing required 'currentIndex'",{instance:r});if(!r.hasOwnProperty("playerList"))throw s.ProtocolError("missing required 'playerList'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.result&&e.hasOwnProperty("result")){if(!Array.isArray(e.result))return"result: array expected";for(var t=0;t<e.result.length;++t)if(!s.isInteger(e.result[t]))return"result: integer[] expected"}if(!s.isInteger(e.currentIndex))return"currentIndex: integer expected";if(o=a.GuessColor.PlayerInfo.verify(e.playerList))return"playerList."+o;if(null!=e.colorList&&e.hasOwnProperty("colorList")){if(!Array.isArray(e.colorList))return"colorList: array expected";for(t=0;t<e.colorList.length;++t){var o;if(o=a.GuessColor.ColorInfo.verify(e.colorList[t]))return"colorList."+o}}return null},e.fromObject=function(e){if(e instanceof a.GuessColor.TableInfo)return e;var t=new a.GuessColor.TableInfo;if(e.result){if(!Array.isArray(e.result))throw TypeError(".GuessColor.TableInfo.result: array expected");t.result=[];for(var o=0;o<e.result.length;++o)t.result[o]=0|e.result[o]}if(null!=e.currentIndex&&(t.currentIndex=0|e.currentIndex),null!=e.playerList){if("object"!==r(e.playerList))throw TypeError(".GuessColor.TableInfo.playerList: object expected");t.playerList=a.GuessColor.PlayerInfo.fromObject(e.playerList)}if(e.colorList){if(!Array.isArray(e.colorList))throw TypeError(".GuessColor.TableInfo.colorList: array expected");t.colorList=[];for(o=0;o<e.colorList.length;++o){if("object"!==r(e.colorList[o]))throw TypeError(".GuessColor.TableInfo.colorList: object expected");t.colorList[o]=a.GuessColor.ColorInfo.fromObject(e.colorList[o])}}return t},e.toObject=function(e,t){t||(t={});var o={};if((t.arrays||t.defaults)&&(o.result=[],o.colorList=[]),t.defaults&&(o.currentIndex=0,o.playerList=null),e.result&&e.result.length){o.result=[];for(var r=0;r<e.result.length;++r)o.result[r]=e.result[r]}if(null!=e.currentIndex&&e.hasOwnProperty("currentIndex")&&(o.currentIndex=e.currentIndex),null!=e.playerList&&e.hasOwnProperty("playerList")&&(o.playerList=a.GuessColor.PlayerInfo.toObject(e.playerList,t)),e.colorList&&e.colorList.length){o.colorList=[];for(r=0;r<e.colorList.length;++r)o.colorList[r]=a.GuessColor.ColorInfo.toObject(e.colorList[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.PlayerInfo=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id=0,e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),t.uint32(8).int32(e.id),t.uint32(18).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new a.GuessColor.PlayerInfo;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:r.id=e.int32();break;case 2:r.name=e.string();break;default:e.skipType(7&n)}}if(!r.hasOwnProperty("id"))throw s.ProtocolError("missing required 'id'",{instance:r});if(!r.hasOwnProperty("name"))throw s.ProtocolError("missing required 'name'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":s.isInteger(e.id)?s.isString(e.name)?null:"name: string expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof a.GuessColor.PlayerInfo)return e;var t=new a.GuessColor.PlayerInfo;return null!=e.id&&(t.id=0|e.id),null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.id=0,o.name=""),null!=e.id&&e.hasOwnProperty("id")&&(o.id=e.id),null!=e.name&&e.hasOwnProperty("name")&&(o.name=e.name),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.ColorInfo=function(){function e(e){if(e)for(var t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.color=0,e.prototype.index=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(8).int32(e.color),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(16).int32(e.index),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var o=void 0===t?e.len:e.pos+t,r=new a.GuessColor.ColorInfo;e.pos<o;){var n=e.uint32();switch(n>>>3){case 1:r.color=e.int32();break;case 2:r.index=e.int32();break;default:e.skipType(7&n)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.color&&e.hasOwnProperty("color")&&!s.isInteger(e.color)?"color: integer expected":null!=e.index&&e.hasOwnProperty("index")&&!s.isInteger(e.index)?"index: integer expected":null},e.fromObject=function(e){if(e instanceof a.GuessColor.ColorInfo)return e;var t=new a.GuessColor.ColorInfo;return null!=e.color&&(t.color=0|e.color),null!=e.index&&(t.index=0|e.index),t},e.toObject=function(e,t){t||(t={});var o={};return t.defaults&&(o.color=0,o.index=0),null!=e.color&&e.hasOwnProperty("color")&&(o.color=e.color),null!=e.index&&e.hasOwnProperty("index")&&(o.index=e.index),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.Event=function(){var e={},t=Object.create(e);return t[e[1]="ENTER_ROOM_REQ"]=1,t}(),e}(),t.exports=a,cc._RF.pop()},{}],Http:[function(e,t,o){"use strict";cc._RF.push(t,"79485c2L0FNWqGnEJ7N0ONj","Http");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,o,c):n(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,c=(n.property,function(){function e(){}var t;return t=e,e.httpFunc=function(e,o,r,n,i){var c,s=t.xhr=new XMLHttpRequest;return"GET"===(n=n.toUpperCase())&&(c="?"),o instanceof Array?o.forEach(function(e){c+=e+"&"}):c=o,s.timeout=5e3,console.log(n,c,e,s,"-----sendInfo"),"GET"===n?(c=null===c?"":c,console.log(c),s.open(n,e+c,!0),s.setRequestHeader("Authorization",r),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","version=1.1")):"POST"===n&&(s.open(n,e,!0),s.setRequestHeader("Authorization",r),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","version=1.1")),new Promise(function(i,a){s.onreadystatechange=function(){4==s.readyState&&200==s.status?i(s.responseText):(4===s.readyState&&401===s.status&&(s.abort(),a()),4===s.readyState&&console.error("---http \u51fa\u9519---\u54cd\u5e94\u5185\u5bb9\u4e3a--",s.responseText,"---http\u72b6\u6001---",s.status,s.readyState)),console.log("http \u72b6\u6001\u6539\u53d8",s.status,"-xhr readyState-",s.readyState,"----url=",e,"----reqData=",o)},s.onerror=function(){s.abort()},s.ontimeout=function(){console.error("http----\u8d85\u65f6----"),setTimeout(function(){t.httpFunc(e,o,r,n).then(function(e){i(e)}).catch(function(e){})},3e3)},"GET"===n?s.send():"POST"===n&&s.send(JSON.stringify(c))})},e=t=r([i],e)}());o.default=c,cc._RF.pop()},{}],Net:[function(e,t,o){"use strict";cc._RF.push(t,"7ac50OjTXdIZprvd5l96xAh","Net");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,o,c):n(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Http"),c=cc._decorator,s=c.ccclass,a=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){var e="http://192.168.0.116:8008/",t=["123"],o="aaa",r="GET";i.default.httpFunc(e,t,o,r)},t=n([s],t)}(cc.Component));o.default=a,cc._RF.pop()},{"./Http":"Http"}],Socket:[function(e,t,o){"use strict";cc._RF.push(t,"93214G7JF1CmoGXuC5+RSBF","Socket");var r=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,o,c):n(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Script/pb/GuessColor"),i=e("../Script/pb/GuessColor"),c=e("./GameData"),s=cc._decorator,a=s.ccclass,l=(s.property,function(){function e(){var e=this;t.inst&&t.inst.clear.bind(t.inst)();var o="ws://"+c.default.serverAdress+":"+c.default.serverPort+"/game";t.inst=this,console.log("---\u8fde\u63a5socket----\u5730\u5740--",o),this.mySocket=new WebSocket(o),this.mySocket.binaryType="arraybuffer",this.mySocket.onmessage=function(e){console.log(e.data)},this.mySocket.onopen=function(e){console.log("socket connected____",e)},this.mySocket.onclose=function(){console.error("socket has closed !!!"),e.clear()},this.mySocket.onerror=function(){console.error("socket error")}}var t;return t=e,e.prototype.sendMsg=function(e,t,o){console.log("\u53d1\u9001\u6d88\u606f >>> msg.type \u4e3a---",t,"---\u5c1d\u8bd5\u89e3\u6790id \u6d88\u606f\u7c7b\u578b\u4e3a---");var r=this.msgToBuffer(e,t,o);this.mySocket.send(r)},e.prototype.msgToBuffer=function(e,t,o){var r=i.google.protobuf.Any.create(),c=n.gateway.GameEvent.create();r.typeUrl=u+o;var s=new Uint8Array(e);return r.value=s,c.type=t,c.data=r,n.gateway.GameEvent.encode(c).finish()},e.prototype.clear=function(){this.mySocket.onopen=null,this.mySocket.onclose=null},e=t=r([a],e)}());o.default=l;var u="type.googleapis.com/";cc._RF.pop()},{"../Script/pb/GuessColor":"GuessColor","./GameData":"GameData"}]},{},["ColorItem","Common","Game","GuessColor","GameData","Http","Net","Socket"]);